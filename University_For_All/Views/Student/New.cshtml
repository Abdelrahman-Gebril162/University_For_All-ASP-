@using University_For_All.Models
@model University_For_All.ViewModels.StudentNewStudentViewModels


@{
    ViewBag.Title = "New Student";
    Layout = "~/Views/Home/_HomeLayout2.cshtml";

}
<style>
    .row {
        height: auto;
    }
    .btn-sm {
        margin-top:10px;
        margin-left: 261px;
       
        
    }
</style>
<link href="~/Content/SignUpStyle.css" rel="stylesheet" />


<div class="container">
    <div class="row">
        <div class="col-lg-3  " style="text-align: center;"></div>
        <div class=" col-lg-6" id="txt" style="text-align: center; ">Add NEW Student</div>
        <div class="col-lg-3 " id="log" style="text-align: right;">
        </div>
    </div></div>

@using (Html.BeginForm("New", "Student", FormMethod.Post, new {enctype = "multipart/form-data"}))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr/>
        @Html.ValidationSummary(true, "", new {@class = "text-danger"})
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                <label for="file-input">
                    <img id="image_preview" src="~/Upload/defaultImage/male-student-icon-png_251938.jpg"style="cursor: pointer; width: 25vw; height: 35vh; border-radius: 50%;"/>
                </label>
                <input id="file-input" name="upload" type="file" onchange="readfile(this)" style="display: none"/>
            </div>
            @Html.ValidationMessageFor(model => model.Student.st_picture, "", new {@class = "text-danger"})
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-3 " style="text-align: center;">
                @Html.TextBoxFor(model => model.Student.st_fname, new {@placeholder = "First Name"})
                @Html.ValidationMessageFor(model => model.Student.st_fname, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;">
                @Html.TextBoxFor(model => model.Student.st_lname, new {@placeholder = "Last Name"})
                @Html.ValidationMessageFor(model => model.Student.st_lname, "", new {@class = "text-danger"})
            </div>

            <div class="col-lg-3 " style="text-align: center;"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.EditorFor(model => model.Student.st_DateOfBirth, new {htmlAttributes = new {@class = "form-control", placeholder = "Birthday "}})
                @Html.ValidationMessageFor(model => model.Student.st_DateOfBirth, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.TextBoxFor(model => model.Student.st_address, new {@placeholder = "Your Address"})
                @Html.ValidationMessageFor(model => model.Student.st_address, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.TextBoxFor(model => model.Student.st_city, new {@placeholder = "Your City"})
                @Html.ValidationMessageFor(model => model.Student.st_city, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.TextBoxFor(model => model.Student.st_phone, new {@placeholder = "Phone Number"})
                @Html.ValidationMessageFor(model => model.Student.st_phone, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.TextBoxFor(model => model.Student.st_email, new {@placeholder = "(Google) E-mail"})
                @Html.ValidationMessageFor(model => model.Student.st_email, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 " style="text-align: center;"></div>
                <div class="col-lg-6 " style="text-align: center;">
                    @Html.PasswordFor(model => model.Student.st_password, new {placeholder = "Password"})
                    @Html.ValidationMessageFor(model => model.Student.st_password, "", new {@class = "text-danger"})
                </div>
                <div class="col-lg-3 " style="text-align: center;"></div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 " style="text-align: center;"></div>
                <div class="col-lg-6 " style="text-align: center;">
                    @Html.PasswordFor(model => model.Student.st_confirmPassword, new {placeholder = "Confirm Password"})
                    @Html.ValidationMessageFor(model => model.Student.st_confirmPassword, "", new {@class = "text-danger"})
                </div>
                <div class="col-lg-3 " style="text-align: center;"></div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <label style="font-weight: bold; color: white; text-align: center"> --Select Your Level</label><br/>
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.EditorFor(model => model.Student.st_level, new {htmlAttributes = new {@class = "form-control"}})
                @Html.ValidationMessageFor(model => model.Student.st_level, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>

        </div>
    </div>
    <div class="container">
        <div class="row">
            <span style="font-weight: bold; color: white; text-align: center">Undergraduate Or Not </span>
            <div class="col-md-10">
                <div class="col-lg-3 " style="text-align: center;"></div>
                <div class="col-lg-6" style="text-align: center;">
                    @Html.CheckBoxFor(model => model.Student.Undergrad, new {@class = "form-check-input", style = "margin-left:320px"})
                    @Html.ValidationMessageFor(model => model.Student.Undergrad, "", new {@class = "text-danger"})
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.DropDownListFor(m => m.Student.FacultyId, ViewBag.Faculty as SelectList, "-- Select Faculty --", new {@class = "form-control", onchange = "read()"})
                @Html.ValidationMessageFor(model => model.Student.FacultyId, "", new {@class = "text-danger"})
            </div>
            <div class="col-lg-3 " style="text-align: center;"></div>

        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 " style="text-align: center;"></div>
            <div class="col-lg-6 " style="text-align: center;">
                @Html.DropDownListFor(m => m.Student.DepartmentId, new SelectList(" "), "-- Select Department --", new {@class = "form-control"})
                @Html.ValidationMessageFor(model => model.Student.DepartmentId, "", new {@class = "text-danger"})
            </div>
        </div>
    </div>
    <div class="container">
        <button type="submit" class="btn btn-secondary" style="margin: auto; width: 25vw; height: auto;display: block;">Send</button>
    </div>

}        

<script type="text/javascript">

    function readfile(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#image_preview').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
<script src="~/Scripts/jquery-1.12.1.min.js"></script>
<script>
    $(document).ready(function() {
        $("#Student_FacultyId").change(function() {
            $.get("/Student/GetDepartmentList",
                { id: $("#Student_FacultyId").val() },
                function(data) {
                    $("#Student_DepartmentId").empty();
                    $.each(data,
                        function(index, row) {
                            $("#Student_DepartmentId")
                                .append("<option value ='" + row.id + "'>" + row.name + "</option>")
                        });
                });
        })
    });
</script>